{"ast":null,"code":"import axios from 'axios';\n\n// OpenWeatherMap API configuration\nconst API_KEY = 'your_api_key_here'; // You'll need to get a free API key from openweathermap.org\nconst BASE_URL = 'https://api.openweathermap.org/data/2.5/weather';\n\n// For demo purposes, we'll use mock data when API key is not available\nconst MOCK_WEATHER_DATA = {\n  london: {\n    city: 'London',\n    country: 'GB',\n    temperature: 15,\n    description: 'partly cloudy',\n    humidity: 65,\n    windSpeed: 3.2,\n    pressure: 1013,\n    feelsLike: 14,\n    icon: '02d'\n  },\n  paris: {\n    city: 'Paris',\n    country: 'FR',\n    temperature: 18,\n    description: 'sunny',\n    humidity: 55,\n    windSpeed: 2.1,\n    pressure: 1015,\n    feelsLike: 19,\n    icon: '01d'\n  },\n  tokyo: {\n    city: 'Tokyo',\n    country: 'JP',\n    temperature: 22,\n    description: 'clear sky',\n    humidity: 70,\n    windSpeed: 1.8,\n    pressure: 1018,\n    feelsLike: 23,\n    icon: '01d'\n  },\n  newyork: {\n    city: 'New York',\n    country: 'US',\n    temperature: 12,\n    description: 'light rain',\n    humidity: 80,\n    windSpeed: 4.5,\n    pressure: 1010,\n    feelsLike: 10,\n    icon: '10d'\n  }\n};\nexport const getWeatherData = async city => {\n  try {\n    // Check if we have a valid API key\n    if (API_KEY === 'your_api_key_here') {\n      // Use mock data for demo\n      const cityKey = city.toLowerCase().replace(/\\s+/g, '');\n      const mockData = MOCK_WEATHER_DATA[cityKey] || MOCK_WEATHER_DATA.london;\n\n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 800));\n      return {\n        ...mockData,\n        city: city // Use the searched city name\n      };\n    }\n\n    // Real API call (when API key is provided)\n    const response = await axios.get(BASE_URL, {\n      params: {\n        q: city,\n        appid: API_KEY,\n        units: 'metric'\n      }\n    });\n    const data = response.data;\n    return {\n      city: data.name,\n      country: data.sys.country,\n      temperature: data.main.temp,\n      description: data.weather[0].description,\n      humidity: data.main.humidity,\n      windSpeed: data.wind.speed,\n      pressure: data.main.pressure,\n      feelsLike: data.main.feels_like,\n      icon: data.weather[0].icon\n    };\n  } catch (error) {\n    if (error.response) {\n      // API responded with error\n      switch (error.response.status) {\n        case 404:\n          throw new Error('City not found. Please check the city name and try again.');\n        case 401:\n          throw new Error('Invalid API key. Please check your configuration.');\n        case 429:\n          throw new Error('Too many requests. Please try again later.');\n        default:\n          throw new Error('Failed to fetch weather data. Please try again.');\n      }\n    } else if (error.request) {\n      // Network error\n      throw new Error('Network error. Please check your internet connection.');\n    } else {\n      // Other error\n      throw new Error('An unexpected error occurred. Please try again.');\n    }\n  }\n};","map":{"version":3,"names":["axios","API_KEY","BASE_URL","MOCK_WEATHER_DATA","london","city","country","temperature","description","humidity","windSpeed","pressure","feelsLike","icon","paris","tokyo","newyork","getWeatherData","cityKey","toLowerCase","replace","mockData","Promise","resolve","setTimeout","response","get","params","q","appid","units","data","name","sys","main","temp","weather","wind","speed","feels_like","error","status","Error","request"],"sources":["D:/React-project/weather-application/src/services/weatherService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// OpenWeatherMap API configuration\r\nconst API_KEY = 'your_api_key_here'; // You'll need to get a free API key from openweathermap.org\r\nconst BASE_URL = 'https://api.openweathermap.org/data/2.5/weather';\r\n\r\n// For demo purposes, we'll use mock data when API key is not available\r\nconst MOCK_WEATHER_DATA = {\r\n  london: {\r\n    city: 'London',\r\n    country: 'GB',\r\n    temperature: 15,\r\n    description: 'partly cloudy',\r\n    humidity: 65,\r\n    windSpeed: 3.2,\r\n    pressure: 1013,\r\n    feelsLike: 14,\r\n    icon: '02d'\r\n  },\r\n  paris: {\r\n    city: 'Paris',\r\n    country: 'FR',\r\n    temperature: 18,\r\n    description: 'sunny',\r\n    humidity: 55,\r\n    windSpeed: 2.1,\r\n    pressure: 1015,\r\n    feelsLike: 19,\r\n    icon: '01d'\r\n  },\r\n  tokyo: {\r\n    city: 'Tokyo',\r\n    country: 'JP',\r\n    temperature: 22,\r\n    description: 'clear sky',\r\n    humidity: 70,\r\n    windSpeed: 1.8,\r\n    pressure: 1018,\r\n    feelsLike: 23,\r\n    icon: '01d'\r\n  },\r\n  newyork: {\r\n    city: 'New York',\r\n    country: 'US',\r\n    temperature: 12,\r\n    description: 'light rain',\r\n    humidity: 80,\r\n    windSpeed: 4.5,\r\n    pressure: 1010,\r\n    feelsLike: 10,\r\n    icon: '10d'\r\n  }\r\n};\r\n\r\nexport const getWeatherData = async (city) => {\r\n  try {\r\n    // Check if we have a valid API key\r\n    if (API_KEY === 'your_api_key_here') {\r\n      // Use mock data for demo\r\n      const cityKey = city.toLowerCase().replace(/\\s+/g, '');\r\n      const mockData = MOCK_WEATHER_DATA[cityKey] || MOCK_WEATHER_DATA.london;\r\n      \r\n      // Simulate API delay\r\n      await new Promise(resolve => setTimeout(resolve, 800));\r\n      \r\n      return {\r\n        ...mockData,\r\n        city: city, // Use the searched city name\r\n      };\r\n    }\r\n\r\n    // Real API call (when API key is provided)\r\n    const response = await axios.get(BASE_URL, {\r\n      params: {\r\n        q: city,\r\n        appid: API_KEY,\r\n        units: 'metric'\r\n      }\r\n    });\r\n\r\n    const data = response.data;\r\n\r\n    return {\r\n      city: data.name,\r\n      country: data.sys.country,\r\n      temperature: data.main.temp,\r\n      description: data.weather[0].description,\r\n      humidity: data.main.humidity,\r\n      windSpeed: data.wind.speed,\r\n      pressure: data.main.pressure,\r\n      feelsLike: data.main.feels_like,\r\n      icon: data.weather[0].icon\r\n    };\r\n\r\n  } catch (error) {\r\n    if (error.response) {\r\n      // API responded with error\r\n      switch (error.response.status) {\r\n        case 404:\r\n          throw new Error('City not found. Please check the city name and try again.');\r\n        case 401:\r\n          throw new Error('Invalid API key. Please check your configuration.');\r\n        case 429:\r\n          throw new Error('Too many requests. Please try again later.');\r\n        default:\r\n          throw new Error('Failed to fetch weather data. Please try again.');\r\n      }\r\n    } else if (error.request) {\r\n      // Network error\r\n      throw new Error('Network error. Please check your internet connection.');\r\n    } else {\r\n      // Other error\r\n      throw new Error('An unexpected error occurred. Please try again.');\r\n    }\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}